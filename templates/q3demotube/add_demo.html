<script src="{{ MEDIA_URL }}js/lib/jquery-1.2.6.js" type="text/javascript"></script>
<script language="javascript" type="text/javascript">
String.prototype.sprintf = function() { var i = 0, args = arguments[0]; return this.replace(/%s/g, function() { return args[i++] }); };

function setNameAndTimes() {
    demo = $('#id_demo').val()
    name = demo.split("_")
    if(name.length > 4) {
        $('#id_name').val(demo.split("_").slice(0,4).join(" "))
    }
    times = demo.split("__")
    if(times.length > 1) {

        times = times[1].split("_")

        for(t in times) {
            $('#id_form-'+t+'-time').val("00:%s:%s".sprintf(times[t].split(".")))
        }
    }
}

$(document).ready(function(){
  $('#id_demo').change(setNameAndTimes)
 });


</script>
<p>
    <a href="/q3demotube/videos/">Videos</a>
    <a href="/q3demotube/demo_list/">Demo List</a>
    <a href="/q3demotube/">Add Demo</a>
</p>

<form action="/q3demotube/add_demo" method="POST" enctype="multipart/form-data">
    {{ demoForm.as_p }}
    <div>
        {{ videoForm.management_form }}
        Format: <b>00:00:00 hours:minutes:seconds</b>
        {% for form in videoForm.forms  %}
            {{ form.as_p }}
        {% endfor %}
    </div>
<input type="Submit" value="Submit">
</form>